# 批量创建多个角色（可重复执行，存在则更新）

说明
- 采用 `INSERT ... ON CONFLICT ("code") DO UPDATE`，可安全重复执行（幂等）。
- 角色示例包含：`SUPER_ADMIN`、`ADMIN`、`STAFF`、`VISITOR`。
- 复制即可运行；在容器内可省略 `-h localhost`。

批量创建/更新角色
```sh
psql -h localhost -U postgres -d appdb <<'SQL'
INSERT INTO "Role" ("code","name")
VALUES
  ('SUPER_ADMIN','超级管理员'),
  ('ADMIN','管理员'),
  ('STAFF','员工'),
  ('VISITOR','访问者')
ON CONFLICT ("code") DO UPDATE SET "name" = EXCLUDED."name";
SQL
```

验证角色是否创建成功
```sh
psql -h localhost -U postgres -d appdb <<'SQL'
SELECT id, code, name FROM "Role" ORDER BY id;
SQL
```

可选：批量删除这些角色
```sh
psql -h localhost -U postgres -d appdb <<'SQL'
DELETE FROM "Role" WHERE "code" IN ('SUPER_ADMIN','ADMIN','STAFF','VISITOR');
SQL
```

提示
- 若尚未创建表结构，请参考 `pg使用.md` 的“创建表结构示例”先建表。
- 在容器内执行时使用：`psql -U postgres -d appdb <<'SQL' ... SQL`（省略 `-h localhost`）。